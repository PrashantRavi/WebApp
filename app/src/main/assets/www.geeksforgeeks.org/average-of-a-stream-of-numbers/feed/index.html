<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	>
<channel>
	<title>Comments on: Average of a stream of numbers</title>
	<atom:link href="http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/</link>
	<description>A computer science portal for geeks</description>
	<lastBuildDate>Tue, 17 Nov 2015 05:17:31 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6.8</generator>
	<item>
		<title>By: Progod</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7632</link>
		<dc:creator><![CDATA[Progod]]></dc:creator>
		<pubDate>Tue, 21 Feb 2012 17:47:43 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7632</guid>
		<description><![CDATA[Yes it should be float balance = x - oldAvg; That was a typo


&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
/* Paste your code here (You may delete these lines if not writing code) */
&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>Yes it should be float balance = x &#8211; oldAvg; That was a typo</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: Progod</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7631</link>
		<dc:creator><![CDATA[Progod]]></dc:creator>
		<pubDate>Tue, 21 Feb 2012 17:36:23 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7631</guid>
		<description><![CDATA[Sorry for typo It should be float balance = x - oldAvg;


&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
/* Paste your code here (You may delete these lines if not writing code) */
&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>Sorry for typo It should be float balance = x &#8211; oldAvg;</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: Progod</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7630</link>
		<dc:creator><![CDATA[Progod]]></dc:creator>
		<pubDate>Tue, 21 Feb 2012 17:22:05 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7630</guid>
		<description><![CDATA[Sorry for the typo. 


&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
float getAvg (int x)
{
static int sum, n;

sum += x;
return (((float)sum)/++n);
}
here sum can give you overflow problem.
to solve this problem you can use following approach.

float getAvg (int x)
{
    static float oldAvg, n;
 
    fload balance = x - oldAvg;
    oldAvg += (balance/++n);
 
    return oldAvg;
}

&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>Sorry for the typo. </p>
<pre> <code language="C">
float getAvg (int x)
{
static int sum, n;

sum += x;
return (((float)sum)/++n);
}
here sum can give you overflow problem.
to solve this problem you can use following approach.

float getAvg (int x)
{
    static float oldAvg, n;
 
    fload balance = x - oldAvg;
    oldAvg += (balance/++n);
 
    return oldAvg;
}

</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: Abhijeet Deshpande</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7502</link>
		<dc:creator><![CDATA[Abhijeet Deshpande]]></dc:creator>
		<pubDate>Mon, 13 Feb 2012 03:33:19 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7502</guid>
		<description><![CDATA[I think you meant

&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
float balance = x - oldAvg;
oldAvg += (balance/++n);
&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>I think you meant</p>
<pre> <code language="C">
float balance = x - oldAvg;
oldAvg += (balance/++n);
</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: kartik</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7489</link>
		<dc:creator><![CDATA[kartik]]></dc:creator>
		<pubDate>Sun, 12 Feb 2012 16:54:24 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7489</guid>
		<description><![CDATA[It doesn&#039;t seem to work.  The following program prints

Average of 1 numbers is 0.000000
Average of 2 numbers is 0.500000
Average of 3 numbers is 1.000000
Average of 4 numbers is 1.500000
Average of 5 numbers is 2.000000
Average of 6 numbers is 2.500000



&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
#include &#060;stdio.h&#062;

float getAvg (int x)
{
    static float oldAvg, n;

    float balance = n - oldAvg;
    oldAvg += (balance/++n);

    return oldAvg;
}

// Prints average of a stream of numbers
void streamAvg(float arr[], int n)
{
   float avg = 0;
   for(int i = 0; i &#060; n; i++)
   {
       avg  = getAvg(arr[i]);
       printf(&#034;Average of %d numbers is %f \n&#034;, i+1, avg);
   }
   return;
}

// Driver program to test above functions
int main()
{
    float arr[] = {10, 20, 30, 40, 50, 60};
    int n = sizeof(arr)/sizeof(arr[0]);
    streamAvg(arr, n);

    return 0;
}
&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>It doesn&#8217;t seem to work.  The following program prints</p>
<p>Average of 1 numbers is 0.000000<br />
Average of 2 numbers is 0.500000<br />
Average of 3 numbers is 1.000000<br />
Average of 4 numbers is 1.500000<br />
Average of 5 numbers is 2.000000<br />
Average of 6 numbers is 2.500000</p>
<pre> <code language="C">
#include &lt;stdio.h&gt;

float getAvg (int x)
{
    static float oldAvg, n;

    float balance = n - oldAvg;
    oldAvg += (balance/++n);

    return oldAvg;
}

// Prints average of a stream of numbers
void streamAvg(float arr[], int n)
{
   float avg = 0;
   for(int i = 0; i &lt; n; i++)
   {
       avg  = getAvg(arr[i]);
       printf(&quot;Average of %d numbers is %f \n&quot;, i+1, avg);
   }
   return;
}

// Driver program to test above functions
int main()
{
    float arr[] = {10, 20, 30, 40, 50, 60};
    int n = sizeof(arr)/sizeof(arr[0]);
    streamAvg(arr, n);

    return 0;
}
</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: Progod</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7487</link>
		<dc:creator><![CDATA[Progod]]></dc:creator>
		<pubDate>Sun, 12 Feb 2012 15:38:41 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7487</guid>
		<description><![CDATA[float getAvg (int x)
{
    static int sum, n;
 
    sum += x;
    return (((float)sum)/++n);
}
here sum can give you overflow problem.
to solve this problem you can use following approach.

&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
float getAvg (int x)
{
    static float oldAvg, n;
 
    fload balance = n - oldAvg;
    oldAvg += (balance/++n);

    return oldAvg;
}
&lt;/code&gt; &lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>float getAvg (int x)<br />
{<br />
    static int sum, n;</p>
<p>    sum += x;<br />
    return (((float)sum)/++n);<br />
}<br />
here sum can give you overflow problem.<br />
to solve this problem you can use following approach.</p>
<pre> <code language="C">
float getAvg (int x)
{
    static float oldAvg, n;
 
    fload balance = n - oldAvg;
    oldAvg += (balance/++n);

    return oldAvg;
}
</code> </pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: Rushi Agrawal</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7388</link>
		<dc:creator><![CDATA[Rushi Agrawal]]></dc:creator>
		<pubDate>Mon, 06 Feb 2012 06:25:27 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7388</guid>
		<description><![CDATA[But abhijeet, the C/C++ compiler does these optimizations for you regardless of whether you write n=n+1 or n++, so effectively both the statements are equal and one need not worry about it.]]></description>
		<content:encoded><![CDATA[<p>But abhijeet, the C/C++ compiler does these optimizations for you regardless of whether you write n=n+1 or n++, so effectively both the statements are equal and one need not worry about it.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kartik</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7342</link>
		<dc:creator><![CDATA[kartik]]></dc:creator>
		<pubDate>Wed, 01 Feb 2012 05:00:18 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7342</guid>
		<description><![CDATA[@Abhijeet Deshpande: Thanks!!]]></description>
		<content:encoded><![CDATA[<p>@Abhijeet Deshpande: Thanks!!</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Abhijeet Deshpande</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7341</link>
		<dc:creator><![CDATA[Abhijeet Deshpande]]></dc:creator>
		<pubDate>Wed, 01 Feb 2012 04:03:57 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7341</guid>
		<description><![CDATA[@Venki: Does this answer your question? What you ask for is a FIR filter (rather, a specific case of FIR filter, or a moving average filter, wherein all the co-efficients of the filter are 1) with &quot;n_of_taps&quot; taps.
I have not compiled the code. There might be errors, but this code should convey the algorithm

&lt;pre&gt; &lt;code language=&quot;C&quot;&gt;
float get_incremental_avg (int x, int n_of_taps)
{

	static int *p, *base_addr;
	static int sum, n;
	
	if (p != NULL)
	{
		p = (int*)calloc (n_of_taps, sizeof(int));
		base_addr = p;
	}
	*p = x;
	
	sum += *p;
	if (++p &#062; base_addr+n_of_taps)
		p = base_addr;
	
	sum -= *p;
	
	return (((float)sum)/++n);
}
&lt;/code&gt; &lt;/pre&gt;

PS: Code gets simpler if you fix the number of taps. Then you do not need calloc]]></description>
		<content:encoded><![CDATA[<p>@Venki: Does this answer your question? What you ask for is a FIR filter (rather, a specific case of FIR filter, or a moving average filter, wherein all the co-efficients of the filter are 1) with &#8220;n_of_taps&#8221; taps.<br />
I have not compiled the code. There might be errors, but this code should convey the algorithm</p>
<pre> <code language="C">
float get_incremental_avg (int x, int n_of_taps)
{

	static int *p, *base_addr;
	static int sum, n;
	
	if (p != NULL)
	{
		p = (int*)calloc (n_of_taps, sizeof(int));
		base_addr = p;
	}
	*p = x;
	
	sum += *p;
	if (++p &gt; base_addr+n_of_taps)
		p = base_addr;
	
	sum -= *p;
	
	return (((float)sum)/++n);
}
</code> </pre>
<p>PS: Code gets simpler if you fix the number of taps. Then you do not need calloc</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Abhijeet Deshpande</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7340</link>
		<dc:creator><![CDATA[Abhijeet Deshpande]]></dc:creator>
		<pubDate>Wed, 01 Feb 2012 03:29:50 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7340</guid>
		<description><![CDATA[@Kartik: Thank you.

Well, in C language, n=n+1 (Assigning to &quot;n&quot;, only for comparison. In the original code above, n+1 is not assigned to n) n++ does not make any difference. The result is the same. However, when the code is compiled and an assembly code is generated, n+1 compiles to 

Load     R1, n  /* Load n in some register */
Load_Imm R2, 1  /* Load an immediate value 1 in reg R2 */
Add      R1, R2  /* Add R1 and R2 and store result in R2 - for Intel type instructions */

You need 2 registers and 3 instructions (~3 cycles for a RISC processor)


Whereas n++ translates to..

Load R1, n  /* Load n in some register */
Incr R1     /* Increment R1 */

You need 1 regsiter and 2 instructions here.

Typically Increment (and decrement) operations are available in most MPU/MCU instruction sets and are (again typically) single cycle instructions.

For reference, look up any datasheet, say Intel 8086 and you fill find a recommendation to use INCR/DECR instead of addition wherever possible]]></description>
		<content:encoded><![CDATA[<p>@Kartik: Thank you.</p>
<p>Well, in C language, n=n+1 (Assigning to &#8220;n&#8221;, only for comparison. In the original code above, n+1 is not assigned to n) n++ does not make any difference. The result is the same. However, when the code is compiled and an assembly code is generated, n+1 compiles to </p>
<p>Load     R1, n  /* Load n in some register */<br />
Load_Imm R2, 1  /* Load an immediate value 1 in reg R2 */<br />
Add      R1, R2  /* Add R1 and R2 and store result in R2 &#8211; for Intel type instructions */</p>
<p>You need 2 registers and 3 instructions (~3 cycles for a RISC processor)</p>
<p>Whereas n++ translates to..</p>
<p>Load R1, n  /* Load n in some register */<br />
Incr R1     /* Increment R1 */</p>
<p>You need 1 regsiter and 2 instructions here.</p>
<p>Typically Increment (and decrement) operations are available in most MPU/MCU instruction sets and are (again typically) single cycle instructions.</p>
<p>For reference, look up any datasheet, say Intel 8086 and you fill find a recommendation to use INCR/DECR instead of addition wherever possible</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kartik</title>
		<link>http://www.geeksforgeeks.org/average-of-a-stream-of-numbers/#comment-7335</link>
		<dc:creator><![CDATA[kartik]]></dc:creator>
		<pubDate>Tue, 31 Jan 2012 12:58:19 +0000</pubDate>
		<guid isPermaLink="false">http://www.cdn.geeksforgeeks.org/?p=15658#comment-7335</guid>
		<description><![CDATA[@Abhijeet Deshpande: Great! Your approach looks good to be added to the original post. 

Could you explain why n++ is more optimal compared to n+1. Any link or other reference would be helpful.]]></description>
		<content:encoded><![CDATA[<p>@Abhijeet Deshpande: Great! Your approach looks good to be added to the original post. </p>
<p>Could you explain why n++ is more optimal compared to n+1. Any link or other reference would be helpful.</p>
]]></content:encoded>
	</item>
</channel>
</rss>

<!-- Dynamic page generated in 0.042 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2017-11-24 13:13:29 -->

<!-- Compression = gzip -->